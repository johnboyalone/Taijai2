<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏¢‡πÉ‡∏à ‡∏†‡∏≤‡∏Ñ 2</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500&family=Kanit:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- ‚òÖ‚òÖ‚òÖ FIREBASE SDK (v9 Modular) ‚òÖ‚òÖ‚òÖ -->
    <!-- ‡πÄ‡∏£‡∏≤‡∏à‡∏∞ import ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏à‡∏≤‡∏Å‡πÉ‡∏ô script.js ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô module -->

</head>
<body>
    <div id="game-container">

        <!-- ‚òÖ‚òÖ‚òÖ LOBBY SCREEN (‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) ‚òÖ‚òÖ‚òÖ -->
        <div id="lobby-screen" class="screen">
            <h2>‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏¢‡πÉ‡∏à ‡∏†‡∏≤‡∏Ñ 2</h2>
            <div class="lobby-group">
                <label for="player-name-input">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:</label>
                <input type="text" id="player-name-input" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." maxlength="15">
            </div>
            <div class="lobby-group">
                <button id="create-room-btn" class="btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
            <div class="lobby-or-divider"><span>‡∏´‡∏£‡∏∑‡∏≠</span></div>
            <div class="lobby-group">
                <input type="text" id="join-room-input" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á..." maxlength="4">
                <button id="join-room-btn" class="btn-secondary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
            <div id="lobby-error-msg"></div>
        </div>

        <!-- ‚òÖ‚òÖ‚òÖ WAITING ROOM SCREEN (‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) ‚òÖ‚òÖ‚òÖ -->
        <div id="waiting-room-screen" class="screen hidden">
            <h2>‡∏´‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÄ‡∏•‡πà‡∏ô</h2>
            <div class="room-code-area">
                ‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á: <span id="room-code-text">----</span>
                <button id="copy-room-code-btn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
            </div>
            <h3>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á:</h3>
            <ul id="player-list-waiting">
                <!-- ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÇ‡∏î‡∏¢ script.js -->
            </ul>
            <p id="waiting-status-text">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°...</p>
            <button id="start-game-from-waiting-btn" class="btn-primary hidden">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
        </div>


        <!-- Welcome Screen (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ô‡∏≥‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á) -->
        <div id="welcome-screen" class="screen hidden">
            <h1>‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏¢‡πÉ‡∏à ‡∏†‡∏≤‡∏Ñ 2</h1>
            <div class="rules">
                <h3>‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤</h3>
                <p><strong>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:</strong> ‡∏¢‡∏∑‡∏ô‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ñ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢!</p>
                <p><strong>‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô:</strong> ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö ‡∏à‡∏∞‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏Ñ‡∏ô‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô "‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢" ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏¢ "‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö" ‡∏Ç‡∏≠‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</p>
                <p><strong>‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢:</strong>
                    <br>- <strong>‡∏ó‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (Strike):</strong> ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                    <br>- <strong>‡∏ó‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏Ç (Ball):</strong> ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ñ‡∏π‡∏Å ‡πÅ‡∏ï‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ú‡∏¥‡∏î
                </p>
                <p><strong>‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏à‡∏±‡∏î:</strong>
                    <br>- ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <strong>"‡∏ï‡∏∏‡∏¢‡∏ã‡∏∞‡πÄ‡∏ñ‡∏≠‡∏∞!"</strong>
                    <br>- <strong>‡∏ó‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å:</strong> ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!
                    <br>- <strong>‡∏ó‡∏≤‡∏¢‡∏ú‡∏¥‡∏î:</strong> ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï 1 ‡∏î‡∏ß‡∏á ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡∏°‡∏î ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÅ‡∏û‡πâ!
                </p>
                 <p><strong>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡πâ:</strong>
                    <br>- ‡∏ñ‡∏π‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                    <br>- ‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢‡∏ú‡∏¥‡∏î
                    <br>- ‡πÑ‡∏°‡πà‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î (‡∏à‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï 1 ‡∏î‡∏ß‡∏á)
                </p>
            </div>
            <button id="show-setup-btn" class="btn-primary">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)</button>
        </div>

        <!-- Setup Screen (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô) -->
        <div id="setup-screen" class="screen hidden">
            <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡∏°</h2>
            <div class="setup-group">
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:</label>
                <div id="player-count-selector" class="selector-container"></div>
            </div>
            <div class="setup-group">
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏Å:</label>
                <div id="digit-count-selector" class="selector-container"></div>
            </div>
            <button id="start-game-btn" class="btn-primary">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</button>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen hidden">
            <div id="status-header">
                <div id="main-status-text">‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</div>
                <div id="sub-status-text">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2</div>
            </div>

            <div id="players-bar">
                <!-- Player status boxes will be added here by script.js -->
                <svg id="energy-beam-svg" class="hidden">
                    <path id="energy-beam-path" d="M 0,0 L 0,0" />
                </svg>
                <div id="shout-guess-display" class="hidden"></div>
            </div>

            <div id="my-secret-number-area">
                <div class="secret-label">‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á)</div>
                <div id="my-secret-number-display">----</div>
            </div>

            <div id="timer-container">
                <div id="timer-bar"></div>
            </div>

            <div id="display-area">
                <div id="guess-display">----</div>
            </div>

            <div id="action-area">
                <div id="keypad">
                    <button class="key num">1</button>
                    <button class="key num">2</button>
                    <button class="key num">3</button>
                    <button class="key num">4</button>
                    <button class="key num">5</button>
                    <button class="key num">6</button>
                    <button class="key num">7</button>
                    <button class="key num">8</button>
                    <button class="key num">9</button>
                    <button class="key action" id="clear-btn">‡∏•‡∏ö</button>
                    <button class="key num">0</button>
                    <button class="key action" id="submit-guess-btn">‡∏ó‡∏≤‡∏¢</button>
                </div>
                <button class="key eliminate" id="eliminate-btn">‡∏ï‡∏∏‡∏¢‡∏ã‡∏∞‡πÄ‡∏ñ‡∏≠‡∏∞!</button>
            </div>
            <div id="skull-animation-container" class="hidden">üíÄ</div>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="screen hidden">
            <!-- Part 1: Winner Announcement -->
            <div id="winner-announcement" class="game-over-part">
                <h2 class="game-over-title">‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠...</h2>
                <div class="winner-name-text" id="winner-name">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1</div>
                <div class="winner-secret-label">‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</div>
                <div class="winner-secret-text" id="winner-secret-number">1234</div>
                <div class="next-prompt">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏ï‡πà‡∏≠...</div>
            </div>

            <!-- Part 2: Epithet Reveal -->
            <div id="epithet-reveal" class="game-over-part hidden">
                 <h2 class="game-over-title">‡∏â‡∏≤‡∏¢‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏Å‡∏°</h2>
                 <div id="epithet-card-container">
                    <div id="epithet-card-display" class="epithet-card hidden">
                        <div class="epithet-main-content">
                            <div class="epithet-player-name"></div>
                            <div class="epithet-title"></div>
                        </div>
                        <div class="epithet-icon"></div>
                        <div class="epithet-description"></div>
                    </div>
                 </div>
                 <div class="next-prompt hidden">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥...</div>
            </div>

            <!-- Part 3: Stats Table -->
            <div id="stats-container" class="game-over-part hidden">
                <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h3>
                <div class="stats-table-wrapper">
                    <table id="stats-table">
                        <tbody id="stats-table-body"></tbody>
                    </table>
                </div>
            </div>
            <button id="restart-game-btn" class="btn-primary hidden">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        </div>
    </div>

    <!-- Floating UI Elements -->
    <button id="popup-history-btn" class="hidden">
        <span class="icon">üìñ</span>
        <div class="preview-text"></div>
    </button>

    <div id="history-popup-overlay">
        <div id="history-popup">
            <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h3>
            <div id="history-filter-buttons"></div>
            <ul id="history-popup-list"></ul>
        </div>
    </div>

    <!-- ‚òÖ‚òÖ‚òÖ SCRIPT TAG ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß ‚òÖ‚òÖ‚òÖ -->
    <script type="module" src="script.js"></script>
</body>
</html>
